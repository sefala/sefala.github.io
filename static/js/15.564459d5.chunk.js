(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[15],{874:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Z}));var c=t(0),r=t(16),i=t.n(r),o=t(24),a=t(19),s=t(7),u=t(1),l=t(5),d=t(87),j=t(234),b=t(22),f=t.n(b),x=t(105),O=t(833),p=t(851),h=t(825),m=t(123),v=t(837),w=t(853),g=t(846),y=t(9),k=t(839),D=t(838),B=t(831);function S(){var e=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return S=function(){return e},e}function C(){var e=Object(s.a)(["\n  color: ",";\n"]);return C=function(){return e},e}function T(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return T=function(){return e},e}function A(){var e=Object(s.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"]);return A=function(){return e},e}var M=l.e.div(A(),(function(e){return e.theme.colors.primary}),(function(e){return-e.theme.spacing[3]})),E=l.e.div(T(),(function(e){return e.theme.spacing[3]})),F=l.e.span(C(),(function(e){return e.theme.colors.tertiary})),$=l.e.div(S()),z=function(e){var n=e.action,t=e.fromToken,r=e.toToken,s=e.priceDesc,l=e.onExchange,d=e.disabled,j=void 0!==d&&d,b=e.disabledDescription,f=Object(u.useState)(!1),O=Object(a.a)(f,2),p=O[0],h=O[1],m=Object(g.a)(t),v=Object(k.c)(t),w=v.onApprove,y=v.isApproved,S=Object(u.useCallback)(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,w();case 4:h(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[w]),C=Object(x.useModal)(Object(c.jsx)(D.a,{max:m,onConfirm:l,tokenName:t})),T=Object(a.a)(C,1)[0];return Object(c.jsx)(x.Card,{children:Object(c.jsx)(B.a,{token:r.toLocaleLowerCase(),children:Object(c.jsxs)($,{children:[Object(c.jsx)(M,{children:"".concat(n," ").concat(r)}),Object(c.jsx)(F,{children:s}),Object(c.jsx)(E,{children:y||j?Object(c.jsx)(x.Button,{onClick:T,disabled:j,children:b||n}):Object(c.jsx)(x.Button,{disabled:p,onClick:S,children:"Approve ".concat(t)})})]})})})};function L(){var e=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"]);return L=function(){return e},e}function N(){var e=Object(s.a)(["\n  color: ",";\n  text-align: center;\n"]);return N=function(){return e},e}function P(){var e=Object(s.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"]);return P=function(){return e},e}var H=l.e.div(P(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.spacing[2]})),J=l.e.span(N(),(function(e){return e.theme.colors.secondary})),R=l.e.div(L(),(function(e){return e.theme.spacing[2]})),W=function(e){var n=e.description,t=e.label;return Object(c.jsx)(x.Card,{children:Object(c.jsx)(x.CardBody,{children:Object(c.jsxs)(R,{children:[Object(c.jsx)(H,{children:t}),Object(c.jsx)(J,{children:n})]})})})};function q(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return q=function(){return e},e}function G(){var e=Object(s.a)(["\n  display: flex;\n  width: 960px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return G=function(){return e},e}function I(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 32px;\n"]);return I=function(){return e},e}var K=new Date(1618488e6),Q=new f.a(10).pow(18).multipliedBy(101).dividedBy(100),U=l.e.div(I()),V=function(){return Object(c.jsx)(x.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})},X=l.e.div(G()),Y=l.e.div(q()),Z=function(){var e=Object(d.m)().account,n=Object(m.e)(),t=Object(g.a)(y.b.SBO),r=Object(p.c)(),s=Object(p.b)(),l=Object(a.a)(s,2),b=l[0],x=l[1],k=Object(u.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(c){var o,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new f.a(c).times(new f.a(10).pow(18)),a=new f.a(r).times(new f.a(10).pow(18)),t.next=4,n.methods.buyBonds(o,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n.methods]),D=Object(u.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(c){var o,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new f.a(c).times(new f.a(10).pow(18)),a=new f.a(r).times(new f.a(10).pow(18)),t.next=4,n.methods.redeemBonds(o,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n.methods]),B=Object(u.useMemo)((function(){return r.gt(Q)}),[r]),S=Object(u.useMemo)((function(){return Number(r)<1}),[r]),C=Object(u.useMemo)((function(){return S?"Burnable Dollars":"Redeemable Bonds"}),[S]);return Date.now()>=K.getTime()?Object(c.jsxs)(j.a,{children:[Object(c.jsx)(V,{}),e?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(X,{children:[Object(c.jsx)(Y,{children:Object(c.jsx)(z,{action:"Purchase",fromToken:y.b.SDO,toToken:y.b.SBO,priceDesc:S?"".concat(Math.floor(100/r.toNumber()-100),"% return when SDO > $1"):"SDO is over $1",onExchange:k,disabled:B})}),Object(c.jsx)(O.a,{}),Object(c.jsxs)(Y,{children:[Object(c.jsx)(W,{description:C,label:S?null===b||void 0===b?void 0:b.toFixed(3):null===x||void 0===x?void 0:x.toFixed(3)}),Object(c.jsx)(O.a,{}),Object(c.jsx)(W,{description:"Last-Hour TWAP Price",label:"\ud83d\udcb0 ".concat(y.b.SDO," = $").concat((null===r||void 0===r?void 0:r.toFixed(3))||"-")})]}),Object(c.jsx)(O.a,{}),Object(c.jsx)(Y,{children:Object(c.jsx)(z,{action:"Redeem",fromToken:y.b.SBO,toToken:y.b.SDO,priceDesc:"".concat(Object(h.b)(t)," SDO Available"),onExchange:D,disabled:!B,disabledDescription:B?null:"Enabled when SDO > $".concat(1.01)})})]})}):Object(c.jsx)(v.a,{mt:"8px",fullWidth:!0})]}):Object(c.jsxs)(j.a,{children:[Object(c.jsx)(V,{}),Object(c.jsx)(U,{children:Object(c.jsx)(w.a,{deadline:K})})]})}}}]);
//# sourceMappingURL=15.564459d5.chunk.js.map