(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[15],{869:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return Xn}));var r=t(0),c=t(19),a=t(7),i=t(1),o=t(5),u=t(89),s=t(848),d=t(832),j=t(838);function f(){var n=Object(a.a)(["\n  font-size: 40px;\n  color: #d8325e;\n  margin: 0;\n"]);return f=function(){return n},n}function l(){var n=Object(a.a)(["\n  font-size: 20px;\n  color: ",";\n  margin: 0;\n"]);return l=function(){return n},n}function b(){var n=Object(a.a)(["\n  width: 400px;\n  background-color: #271c20;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  padding: 36px;\n  border-radius: 48px;\n  box-shadow: 0px 3px 30px #d5d5d5a0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return b=function(){return n},n}var x=o.e.div(b(),(function(n){return n.theme.colors.primary})),O=o.e.p(l(),(function(n){return n.theme.colors.secondary})),p=o.e.p(f()),h=function(n){var e=n.deadline;return Object(r.jsxs)(x,{children:[Object(r.jsx)(O,{children:"Starting In..."}),Object(r.jsx)(j.a,{date:e,renderer:function(n){var e=n.days,t=n.hours,c=n.minutes,a=n.seconds,i=String(24*e+t),o=String(c),u=String(a);return Object(r.jsxs)(p,{children:[i.padStart(2,"0"),":",o.padStart(2,"0"),":",u.padStart(2,"0")]})}})]})},m=t(852),v=t.n(m),w=t(16),g=t.n(w),y=t(24),S=t(52),k=t(12),C=t(22),D=t.n(C),z=t(829),A=t(123),R=new D.a(10).pow(18),F=function(){var n=Object(u.m)().account,e=Object(A.b)();return{onRedeem:Object(i.useCallback)(Object(y.a)(g.a.mark((function t(){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.methods.exit().send({from:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),[n,e])}},E=t(837),I=t(236),B=function(n){var e=Object(i.useState)(new D.a(0)),t=Object(c.a)(e,2),r=t[0],a=t[1],o=Object(u.m)(),s=o.account,d=o.ethereum,j=Object(I.a)().fastRefresh,f=Object(S.e)(n);return Object(i.useEffect)((function(){s&&d&&function(){var n=Object(y.a)(g.a.mark((function n(){var e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(E.c)(d,f,s);case 2:e=n.sent,a(new D.a(e));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[s,d,f,j]),r},T=t(77),W=t(841),M=t(235),N=t(86),J=t(347),P=function(){var n=Object(u.m)().account,e=Object(A.b)();return{onReward:Object(i.useCallback)(Object(y.a)(g.a.mark((function t(){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.methods.claimReward().send({from:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),[n,e])}},$=t(834),H=t.n($);function q(){var n=Object(a.a)(["\n  color: ",";\n  font-size: 30px;\n  font-weight: 900;\n"]);return q=function(){return n},n}var G=o.e.div(q(),(function(n){return n.theme.colors.primary})),K=function(n){var e=n.value,t=n.decimals,a=n.fontSize,o=void 0===a?"30px":a,u=Object(i.useState)(0),s=Object(c.a)(u,2),d=s[0],j=s[1],f=Object(i.useState)(0),l=Object(c.a)(f,2),b=l[0],x=l[1];return Object(i.useEffect)((function(){"number"===typeof e&&(j(b),x(e))}),[e]),Object(r.jsx)(G,{style:{fontSize:o},children:"string"===typeof e?e:Object(r.jsx)(H.a,{start:d,end:b,decimals:void 0!==t?t:b<0?4:b>1e5?0:3,duration:1,separator:","})})};function L(){var n=Object(a.a)(["\n  color: ",";\n  font-size: 14px;\n"]);return L=function(){return n},n}var Q=o.e.div(L(),(function(n){var e=n.isFinished;return n.theme.colors[e?"textDisabled":"primary"]})),U=function(n){var e=n.text,t=n.isFinished,c=void 0!==t&&t;return Object(r.jsx)(Q,{isFinished:c,children:e})};function V(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return V=function(){return n},n}function X(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return X=function(){return n},n}function Y(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]);return Y=function(){return n},n}var Z=o.e.div(Y()),_=o.e.div(X(),(function(n){return n.theme.spacing[6]})),nn=o.e.div(V()),en=function(n){var e=n.canClaimReward,t=P().onReward,a=function(){var n=Object(u.m)().account,e=Object(i.useState)(new D.a(0)),t=Object(c.a)(e,2),r=t[0],a=t[1],o=Object(A.b)(),s=Object(i.useCallback)(Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,o.methods.earned(n).call();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[n,o]);return Object(i.useEffect)((function(){s().catch((function(n){return console.error(n.stack)}));var n=setInterval(s,1e4);return function(){return clearInterval(n)}}),[a,s]),r}();return Object(r.jsx)(T.Card,{children:Object(r.jsx)(T.CardBody,{children:Object(r.jsxs)(nn,{children:[Object(r.jsxs)(Z,{children:[Object(r.jsx)(K,{value:a.toString()}),Object(r.jsx)(U,{text:"SDO Earned"})]}),Object(r.jsx)(_,{children:Object(r.jsx)(T.Button,{onClick:t,disabled:!e,children:"Claim Reward"})})]})})})};function tn(){var n=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px ","px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(a.a)(["\n  font-weight: 700;\n  font-size: 12px;\n  text-align: center;\n"]);return rn=function(){return n},n}function cn(){var n=Object(a.a)(["\n  width: ","%;\n  height: 100%;\n  border-radius: 3px;\n  background: ",";\n"]);return cn=function(){return n},n}function an(){var n=Object(a.a)(["\n  width: 100%;\n  height: 8px;\n  border-radius: 3px;\n  background: ",";\n"]);return an=function(){return n},n}function on(){var n=Object(a.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0 0 6px 0;\n"]);return on=function(){return n},n}var un=o.e.p(on()),sn=o.e.div(an(),(function(n){return n.theme.colors.contrast})),dn=o.e.div(cn(),(function(n){return n.progress}),(function(n){return n.theme.colors.invertedContrast})),jn=o.e.span(rn()),fn=o.e.div(tn(),(function(n){return n.theme.spacing[2]}),(function(n){return n.theme.spacing[4]})),ln=function(n){var e=n.base,t=n.deadline,c=n.description,a=Date.now()>=t.getTime()?100:(Date.now()-e.getTime())/(t.getTime()-e.getTime())*100;return Object(r.jsx)(T.Card,{children:Object(r.jsxs)(fn,{children:[Object(r.jsx)(jn,{children:c}),Object(r.jsx)(j.a,{date:t,renderer:function(n){var e=n.days,t=n.hours,c=n.minutes,a=n.seconds,i=String(24*e+t),o=String(c),u=String(a);return Object(r.jsxs)(un,{children:[i.padStart(2,"0"),":",o.padStart(2,"0"),":",u.padStart(2,"0")]})}}),Object(r.jsx)(sn,{children:Object(r.jsx)(dn,{progress:a})})]})})};function bn(){var n=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  padding: ","px ","px;\n"]);return bn=function(){return n},n}function xn(){var n=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return xn=function(){return n},n}function On(){var n=Object(a.a)(["\n  font-size: 28px;\n  margin-right: 10px;\n"]);return On=function(){return n},n}function pn(){var n=Object(a.a)(["\n  color: ",";\n"]);return pn=function(){return n},n}function hn(){var n=Object(a.a)(["\n  font-size: 18px;\n  font-weight: 700;\n"]);return hn=function(){return n},n}var mn=o.e.div(hn()),vn=o.e.span(pn(),(function(n){return n.theme.colors.secondary})),wn=o.e.span(On()),gn=o.e.span(xn()),yn=o.e.div(bn(),(function(n){return n.theme.spacing[2]}),(function(n){return n.theme.spacing[4]})),Sn=function(n){var e=n.icon,t=n.title,c=n.description;return Object(r.jsx)(T.Card,{children:Object(r.jsxs)(yn,{children:[Object(r.jsx)(wn,{children:e}),Object(r.jsxs)(gn,{children:[Object(r.jsx)(mn,{children:t}),Object(r.jsx)(vn,{children:c})]})]})})},kn=t(849),Cn=t(844),Dn=t(845),zn=t(843);function An(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return An=function(){return n},n}function Rn(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return Rn=function(){return n},n}function Fn(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]);return Fn=function(){return n},n}function En(){var n=Object(a.a)(["\n  display: flex;\n  svg {\n    width: 20px;\n  }\n"]);return En=function(){return n},n}var In=o.e.div(En()),Bn=o.e.div(Fn()),Tn=o.e.div(Rn(),(function(n){return n.theme.spacing[6]})),Wn=o.e.div(An()),Mn=function(n){var e=n.canWithdraw,t=n.balanceOf,a=Object(i.useState)(!1),o=Object(c.a)(a,2),u=o[0],s=o[1],d=Object(kn.b)(),j=d.onApprove,f=d.isApproved,l=B(k.b.SSO),b=Object(zn.b)().onStake,x=Object(zn.c)().onWithdraw,O=Object(i.useCallback)(Object(y.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,j();case 4:s(!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[j]),p=Object(T.useModal)(Object(r.jsx)(Cn.a,{max:l,onConfirm:b,tokenName:"SSO"})),h=Object(c.a)(p,1)[0],m=Object(T.useModal)(Object(r.jsx)(Dn.a,{max:t,onConfirm:x,tokenName:"SSO"})),v=Object(c.a)(m,1)[0];return Object(r.jsx)(T.Card,{children:Object(r.jsx)(T.CardBody,{children:Object(r.jsxs)(Wn,{children:[Object(r.jsxs)(Bn,{children:[Object(r.jsx)(K,{value:null===t||void 0===t?void 0:t.toFixed(4)}),Object(r.jsx)(U,{text:"SSO Staked"})]}),Object(r.jsx)(Tn,{children:f?Object(r.jsxs)(In,{children:[Object(r.jsx)(T.IconButton,{variant:"tertiary",onClick:v,mr:"6px",disabled:!e,children:Object(r.jsx)(T.MinusIcon,{color:"primary"})}),Object(r.jsx)(T.IconButton,{variant:"tertiary",onClick:h,children:Object(r.jsx)(T.AddIcon,{color:"primary"})})]}):Object(r.jsx)(T.Button,{disabled:u,onClick:O,children:"Approve SSO"})})]})})})};function Nn(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 32px;\n"]);return Nn=function(){return n},n}function Jn(){var n=Object(a.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return Jn=function(){return n},n}function Pn(){var n=Object(a.a)(["\n  display: flex;\n  width: 600px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return Pn=function(){return n},n}function $n(){var n=Object(a.a)(["\n  justify-content: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ","px;\n  width: 960px;\n\n  > * {\n    flex: 1;\n    height: 84px;\n    margin: 0 ","px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    width: 100%;\n  }\n"]);return $n=function(){return n},n}function Hn(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return Hn=function(){return n},n}var qn=new Date(1616730082e3),Gn=o.e.div(Hn()),Kn=o.e.div($n(),(function(n){return n.theme.spacing[5]}),(function(n){return n.theme.spacing[2]})),Ln=o.e.div(Pn()),Qn=o.e.div(Jn()),Un=o.e.div(Nn()),Vn=function(){return Object(r.jsx)(T.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb1 Boardroom"})},Xn=function(){var n=Object(u.m)().account,e=Object(S.e)(k.b.SSO),t=F().onRedeem,a=function(){var n=Object(u.m)().account,e=Object(i.useState)([]),t=Object(c.a)(e,2),r=t[0],a=t[1],o=Object(S.a)();return Object(i.useEffect)((function(){n&&function(){var e=Object(y.a)(g.a.mark((function e(){var t,r,i,u,s,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{address:o,name:"balanceOf",params:[n]},{address:o,name:"canWithdraw",params:[n]},{address:o,name:"canClaimReward",params:[n]}],e.next=3,Object(N.a)(J,t);case 3:r=e.sent,i=Object(c.a)(r,3),u=i[0],s=i[1],d=i[2],a([new D.a(u).div(new D.a(10).pow(18)),s[0],d[0]]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,o]),r}(),o=Object(c.a)(a,3),j=o[0],f=o[1],l=o[2],b=function(n,e){var t=Object(i.useState)(new D.a(0)),r=Object(c.a)(t,2),a=r[0],o=r[1],s=Object(u.m)().ethereum,d=Object(I.a)().fastRefresh;return Object(i.useEffect)((function(){e&&s&&function(){var t=Object(y.a)(g.a.mark((function t(){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.c)(s,n,e);case 2:r=t.sent,o(new D.a(r));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,s,n,d]),a}(e,Object(S.f)()),x=function(){var n=Object(i.useState)(R),e=Object(c.a)(n,2),t=e[0],r=e[1],a=Object(A.d)(),o=Object(S.e)(k.b.SDO),u=Object(i.useCallback)(Object(y.a)(g.a.mark((function n(){var e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.methods.twap(o,R).call();case 2:e=n.sent,r(new D.a(e).div(R));case 4:case"end":return n.stop()}}),n)}))),[a,o]);return Object(i.useEffect)((function(){u().catch((function(n){return console.error("Failed to fetch price: ".concat(n.stack))}));var n=setInterval(u,1e4);return function(){return clearInterval(n)}}),[u,r]),t}(),O=Object(i.useMemo)((function(){return x?x.toNumber().toFixed(2):null}),[x]),p=function(){var n=Object(i.useState)({prevAllocation:new Date,nextAllocation:new Date}),e=Object(c.a)(n,2),t=e[0],r=e[1],a=Object(A.f)();return Object(i.useEffect)((function(){a&&Object(z.b)(a).then(r)}),[a]),t}(),m=p.prevAllocation,w=p.nextAllocation,C=Object(i.useMemo)((function(){return w.getTime()<=Date.now()?v()().utc().startOf("day").toDate():m}),[m,w]),B=Object(i.useMemo)((function(){return v()(C).add(8,"hours").toDate()}),[C]);return Date.now()>=qn.getTime()?Object(r.jsxs)(M.a,{children:[Object(r.jsxs)(d.a,{children:[Object(r.jsx)(Vn,{}),n&&Object(r.jsx)(T.Button,{disabled:!f,onClick:t,children:"Settle & Withdraw"})]}),Object(r.jsxs)(Kn,{children:[Object(r.jsx)(ln,{base:C,deadline:B,description:"Next Epoch"}),Object(r.jsx)(Sn,{icon:"\ud83d\udcb5",title:x?"$".concat(x.toFixed(2)):"-",description:"SDO Price (TWAP)"}),Object(r.jsx)(Sn,{icon:"\ud83d\ude80",title:O?"x".concat(O):"-",description:"Scaling Factor"}),Object(r.jsx)(Sn,{icon:"\ud83d\udcb0",title:b?"~$".concat(b.toFixed(2)):"-",description:"Treasury Amount"})]}),Object(r.jsx)(Gn,{children:Object(r.jsx)(Ln,{children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Qn,{children:Object(r.jsx)(en,{canClaimReward:l})}),Object(r.jsx)(s.a,{}),Object(r.jsx)(Qn,{children:Object(r.jsx)(Mn,{balanceOf:j,canWithdraw:f})})]}):Object(r.jsx)(W.a,{mt:"8px",fullWidth:!0})})})]}):Object(r.jsxs)(M.a,{children:[Object(r.jsx)(Vn,{}),Object(r.jsx)(Un,{children:Object(r.jsx)(h,{deadline:qn})})]})}}}]);
//# sourceMappingURL=15.62b44152.chunk.js.map