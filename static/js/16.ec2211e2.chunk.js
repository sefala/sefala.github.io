(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[16],{875:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return X}));var c=t(7),r=t(0),i=t(16),o=t.n(i),a=t(24),s=t(19),u=t(1),l=t(5),d=t(88),j=t(234),b=t(20),f=t.n(b),x=t(105),O=t(834),p=t(852),h=t(827),m=t(123),v=t(838),w=t(854),g=t(847),y=t(9),k=t(840),D=t(839),B=t(832);function S(){var e=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return S=function(){return e},e}function C(){var e=Object(c.a)(["\n  color: ",";\n"]);return C=function(){return e},e}function T(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return T=function(){return e},e}function A(){var e=Object(c.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"]);return A=function(){return e},e}var M=l.e.div(A(),(function(e){return e.theme.colors.primary}),(function(e){return-e.theme.spacing[3]})),E=l.e.div(T(),(function(e){return e.theme.spacing[3]})),F=l.e.span(C(),(function(e){return e.theme.colors.tertiary})),$=l.e.div(S()),z=function(e){var n=e.action,t=e.fromToken,c=e.toToken,i=e.priceDesc,l=e.onExchange,d=e.disabled,j=void 0!==d&&d,b=e.disabledDescription,f=Object(u.useState)(!1),O=Object(s.a)(f,2),p=O[0],h=O[1],m=Object(g.a)(t),v=Object(k.c)(t),w=v.onApprove,y=v.isApproved,S=Object(u.useCallback)(Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,w();case 4:h(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[w]),C=Object(x.useModal)(Object(r.jsx)(D.a,{max:m,onConfirm:l,tokenName:t})),T=Object(s.a)(C,1)[0];return Object(r.jsx)(x.Card,{children:Object(r.jsx)(B.a,{token:c.toLocaleLowerCase(),children:Object(r.jsxs)($,{children:[Object(r.jsx)(M,{children:"".concat(n," ").concat(c)}),Object(r.jsx)(F,{children:i}),Object(r.jsx)(E,{children:y||j?Object(r.jsx)(x.Button,{onClick:T,disabled:j,children:b||n}):Object(r.jsx)(x.Button,{disabled:p,onClick:S,children:"Approve ".concat(t)})})]})})})};function L(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"]);return L=function(){return e},e}function N(){var e=Object(c.a)(["\n  color: ",";\n  text-align: center;\n"]);return N=function(){return e},e}function P(){var e=Object(c.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"]);return P=function(){return e},e}var H=l.e.div(P(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.spacing[2]})),J=l.e.span(N(),(function(e){return e.theme.colors.secondary})),R=l.e.div(L(),(function(e){return e.theme.spacing[2]})),W=function(e){var n=e.description,t=e.label;return Object(r.jsx)(x.Card,{children:Object(r.jsx)(x.CardBody,{children:Object(r.jsxs)(R,{children:[Object(r.jsx)(H,{children:t}),Object(r.jsx)(J,{children:n})]})})})};function q(){var e=Object(c.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return q=function(){return e},e}function G(){var e=Object(c.a)(["\n  display: flex;\n  width: 960px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return G=function(){return e},e}var I=new Date(1616730082e3),K=new f.a(10).pow(18).multipliedBy(101).dividedBy(100),Q=function(){return Object(r.jsx)(x.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})},U=l.e.div(G()),V=l.e.div(q()),X=function(){var e=Object(d.m)().account,n=Object(m.e)(),t=Object(g.a)(y.b.SBO),c=Object(p.c)(),i=Object(p.b)(),l=Object(s.a)(i,2),b=l[0],x=l[1],k=Object(u.useCallback)(function(){var t=Object(a.a)(o.a.mark((function t(r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new f.a(r).times(new f.a(10).pow(18)),a=new f.a(c).times(new f.a(10).pow(18)),t.next=4,n.methods.buyBonds(i,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,e,n.methods]),D=Object(u.useCallback)(function(){var t=Object(a.a)(o.a.mark((function t(r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new f.a(r).times(new f.a(10).pow(18)),a=new f.a(c).times(new f.a(10).pow(18)),t.next=4,n.methods.redeemBonds(i,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,e,n.methods]),B=Object(u.useMemo)((function(){return c.gt(K)}),[c]),S=Object(u.useMemo)((function(){return Number(c)<1}),[c]),C=Object(u.useMemo)((function(){return S?"Burnable Dollars":"Redeemable Bonds"}),[S]);return Date.now()>=I.getTime()?Object(r.jsxs)(j.a,{children:[Object(r.jsx)(Q,{}),e?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(U,{children:[Object(r.jsx)(V,{children:Object(r.jsx)(z,{action:"Purchase",fromToken:y.b.SDO,toToken:y.b.SBO,priceDesc:S?"".concat(Math.floor(100/c.toNumber()-100),"% return when SDO > $1"):"SDO is over $1",onExchange:k,disabled:B})}),Object(r.jsx)(O.a,{}),Object(r.jsxs)(V,{children:[Object(r.jsx)(W,{description:C,label:S?null===b||void 0===b?void 0:b.toFixed(3):null===x||void 0===x?void 0:x.toFixed(3)}),Object(r.jsx)(O.a,{}),Object(r.jsx)(W,{description:"Last-Hour TWAP Price",label:"\ud83d\udcb0 ".concat(y.b.SDO," = $").concat((null===c||void 0===c?void 0:c.toFixed(3))||"-")})]}),Object(r.jsx)(O.a,{}),Object(r.jsx)(V,{children:Object(r.jsx)(z,{action:"Redeem",fromToken:y.b.SBO,toToken:y.b.SDO,priceDesc:"".concat(Object(h.b)(t)," SDO Available"),onExchange:D,disabled:!B,disabledDescription:B?null:"Enabled when SDO > $".concat(1.01)})})]})}):Object(r.jsx)(v.a,{mt:"8px",fullWidth:!0})]}):Object(r.jsxs)(j.a,{children:[Object(r.jsx)(Q,{}),Object(r.jsx)(w.a,{deadline:I})]})}}}]);
//# sourceMappingURL=16.ec2211e2.chunk.js.map