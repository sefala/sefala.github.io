(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[16],{874:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return V}));var r=t(7),c=t(0),i=t(16),o=t.n(i),a=t(24),s=t(1),u=t(5),d=t(89),l=t(234),j=t(20),b=t.n(j),f=t(77),p=t(833),x=t(851),O=t(827),h=t(123),m=t(837),v=t(853),w=t(846),g=t(9),y=t(19),k=t(839),D=t(838);function B(){var e=Object(r.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return B=function(){return e},e}function S(){var e=Object(r.a)(["\n  color: ",";\n"]);return S=function(){return e},e}function C(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return C=function(){return e},e}function T(){var e=Object(r.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"]);return T=function(){return e},e}var A=u.e.div(T(),(function(e){return e.theme.colors.primary}),(function(e){return-e.theme.spacing[3]})),N=u.e.div(C(),(function(e){return e.theme.spacing[3]})),E=u.e.span(S(),(function(e){return e.theme.colors.tertiary})),M=u.e.div(B()),$=function(e){var n=e.action,t=e.fromToken,r=e.toToken,i=e.priceDesc,u=e.onExchange,d=e.disabled,l=void 0!==d&&d,j=e.disabledDescription,b=Object(s.useState)(!1),p=Object(y.a)(b,2),x=p[0],O=p[1],h=Object(w.a)(t),m=Object(k.c)(t),v=m.onApprove,g=m.isApproved,B=Object(s.useCallback)(Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,v();case 4:O(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[v]),S=Object(f.useModal)(Object(c.jsx)(D.a,{max:h,onConfirm:u,tokenName:t})),C=Object(y.a)(S,1)[0];return Object(c.jsx)(f.Card,{children:Object(c.jsx)(f.CardBody,{children:Object(c.jsxs)(M,{children:[Object(c.jsx)(A,{children:"".concat(n," ").concat(r)}),Object(c.jsx)(E,{children:i}),Object(c.jsx)(N,{children:g||l?Object(c.jsx)(f.Button,{onClick:C,disabled:l,children:j||n}):Object(c.jsx)(f.Button,{disabled:x,onClick:B,children:"Approve ".concat(t)})})]})})})};function z(){var e=Object(r.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"]);return z=function(){return e},e}function P(){var e=Object(r.a)(["\n  color: ",";\n  text-align: center;\n"]);return P=function(){return e},e}function F(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"]);return F=function(){return e},e}var H=u.e.div(F(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.spacing[2]})),J=u.e.span(P(),(function(e){return e.theme.colors.secondary})),W=u.e.div(z(),(function(e){return e.theme.spacing[2]})),L=function(e){var n=e.tokenName,t=e.description,r=e.price;return Object(c.jsx)(f.Card,{children:Object(c.jsx)(f.CardBody,{children:Object(c.jsxs)(W,{children:[Object(c.jsx)(H,{children:"\ud83d\udcb0 ".concat(n," = $").concat(r)}),Object(c.jsx)(J,{children:t})]})})})};function R(){var e=Object(r.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return R=function(){return e},e}function q(){var e=Object(r.a)(["\n  display: flex;\n  width: 960px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return q=function(){return e},e}var G=new Date(1616730082e3),I=new b.a(10).pow(18).multipliedBy(101).dividedBy(100),K=function(){return Object(c.jsx)(f.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})},Q=u.e.div(q()),U=u.e.div(R()),V=function(){var e=Object(d.m)().account,n=Object(h.e)(),t=Object(w.a)(g.b.SBO),r=Object(x.b)(),i=Object(s.useCallback)(function(){var t=Object(a.a)(o.a.mark((function t(c){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new b.a(c).times(new b.a(10).pow(18)),a=new b.a(r).times(new b.a(10).pow(18)),t.next=4,n.methods.buyBonds(i,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n.methods]),u=Object(s.useCallback)(function(){var t=Object(a.a)(o.a.mark((function t(c){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new b.a(c).times(new b.a(10).pow(18)),a=new b.a(r).times(new b.a(10).pow(18)),t.next=4,n.methods.redeemBonds(i,a).send({from:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n.methods]),j=Object(s.useMemo)((function(){return r.gt(I)}),[r]),f=Object(s.useMemo)((function(){return Number(r)<1}),[r]);return Date.now()>=G.getTime()?Object(c.jsxs)(l.a,{children:[Object(c.jsx)(K,{}),e?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(Q,{children:[Object(c.jsx)(U,{children:Object(c.jsx)($,{action:"Purchase",fromToken:g.b.SDO,toToken:g.b.SBO,priceDesc:f?"".concat(Math.floor(100/r.toNumber()-100),"% return when SDO > $1"):"SDO is over $1",onExchange:i,disabled:j})}),Object(c.jsx)(p.a,{}),Object(c.jsx)(U,{children:Object(c.jsx)(L,{tokenName:g.b.SDO,description:"Last-Hour TWAP Price",price:(null===r||void 0===r?void 0:r.toFixed(3))||"-"})}),Object(c.jsx)(p.a,{}),Object(c.jsx)(U,{children:Object(c.jsx)($,{action:"Redeem",fromToken:g.b.SBO,toToken:g.b.SDO,priceDesc:"".concat(Object(O.b)(t)," SDO Available"),onExchange:u,disabled:!j,disabledDescription:j?null:"Enabled when SDO > $".concat(1.01)})})]})}):Object(c.jsx)(m.a,{mt:"8px",fullWidth:!0})]}):Object(c.jsxs)(l.a,{children:[Object(c.jsx)(K,{}),Object(c.jsx)(v.a,{deadline:G})]})}}}]);
//# sourceMappingURL=16.ffcd8eff.chunk.js.map