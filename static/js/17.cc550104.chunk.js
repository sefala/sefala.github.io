(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[17],{875:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return Y}));var r=t(0),c=t(16),i=t.n(c),o=t(24),a=t(7),s=t(1),u=t(5),d=t(89),l=t(234),j=t(22),b=t.n(j),f=t(77),x=t(835),p=t(853),O=t(829),h=t(123),m=t(839),v=t(855),g=t(841),w=t(12),y=t(19),k=t(844),D=t(840);function B(){var n=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return B=function(){return n},n}function S(){var n=Object(a.a)(["\n  color: ",";\n"]);return S=function(){return n},n}function C(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return C=function(){return n},n}function T(){var n=Object(a.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"]);return T=function(){return n},n}var A=u.e.div(T(),(function(n){return n.theme.colors.primary}),(function(n){return-n.theme.spacing[3]})),N=u.e.div(C(),(function(n){return n.theme.spacing[3]})),E=u.e.span(S(),(function(n){return n.theme.colors.tertiary})),M=u.e.div(B()),P=function(n){var e=n.action,t=n.fromToken,c=n.toToken,a=n.priceDesc,u=n.onExchange,d=n.disabled,l=void 0!==d&&d,j=n.disabledDescription,b=Object(s.useState)(!1),x=Object(y.a)(b,2),p=x[0],O=x[1],h=Object(g.a)(t),m=Object(k.c)(t),v=m.onApprove,w=m.isApproved,B=Object(s.useCallback)(Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,O(!0),n.next=4,v();case 4:O(!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[v]),S=Object(f.useModal)(Object(r.jsx)(D.a,{max:h,onConfirm:u,tokenName:t})),C=Object(y.a)(S,1)[0];return Object(r.jsx)(f.Card,{children:Object(r.jsx)(f.CardBody,{children:Object(r.jsxs)(M,{children:[Object(r.jsx)(A,{children:"".concat(e," ").concat(c)}),Object(r.jsx)(E,{children:a}),Object(r.jsx)(N,{children:w||l?Object(r.jsx)(f.Button,{onClick:C,disabled:l,children:j||e}):Object(r.jsx)(f.Button,{disabled:p,onClick:B,children:"Approve ".concat(t)})})]})})})};function $(){var n=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"]);return $=function(){return n},n}function z(){var n=Object(a.a)(["\n  color: ",";\n  text-align: center;\n"]);return z=function(){return n},n}function F(){var n=Object(a.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"]);return F=function(){return n},n}var H=u.e.div(F(),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.spacing[2]})),J=u.e.span(z(),(function(n){return n.theme.colors.secondary})),W=u.e.div($(),(function(n){return n.theme.spacing[2]})),q=function(n){var e=n.tokenName,t=n.description,c=n.price;return Object(r.jsx)(f.Card,{children:Object(r.jsx)(f.CardBody,{children:Object(r.jsxs)(W,{children:[Object(r.jsx)(H,{children:"\ud83d\udcb0 ".concat(e," = $").concat(c)}),Object(r.jsx)(J,{children:t})]})})})};function L(){var n=Object(a.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return L=function(){return n},n}function R(){var n=Object(a.a)(["\n  display: flex;\n  width: 960px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return R=function(){return n},n}function G(){var n=Object(a.a)(["\n  justify-content: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ","px;\n  width: 960px;\n\n  > * {\n    flex: 1;\n    height: 84px;\n    margin: 0 ","px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    width: 100%;\n  }\n"]);return G=function(){return n},n}var I=new Date(1616730082e3),K=new b.a(10).pow(18).multipliedBy(101).dividedBy(100),Q=u.e.div(G(),(function(n){return n.theme.spacing[5]}),(function(n){return n.theme.spacing[2]})),U=function(){return Object(r.jsx)(f.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})},V=u.e.div(R()),X=u.e.div(L()),Y=function(){var n=Object(d.m)().account,e=Object(h.f)(),t=Object(g.a)(w.b.SBO),c=Object(p.c)(),a=Object(p.b)(),u=Object(s.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.methods.buyBonds(r,c).send({from:n});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),[c,n,e.methods]),j=Object(s.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.methods.redeemBonds(r,a).send({from:n});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),[a,n,e.methods]),b=Object(s.useMemo)((function(){return c.gt(K)}),[c]),f=Object(s.useMemo)((function(){return Number(a)<1}),[a]);return Date.now()>=I.getTime()?Object(r.jsxs)(l.a,{children:[Object(r.jsx)(U,{}),n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Q,{children:[Object(r.jsx)(q,{tokenName:w.b.SDO,description:"Last-Hour TWAP Price",price:(null===c||void 0===c?void 0:c.toFixed(3))||"-"}),Object(r.jsx)(q,{tokenName:w.b.SBO,description:"Current Price",price:(null===a||void 0===a?void 0:a.toFixed(3))||"-"})]}),Object(r.jsxs)(V,{children:[Object(r.jsx)(X,{children:Object(r.jsx)(P,{action:"Purchase",fromToken:w.b.SDO,toToken:w.b.SBO,priceDesc:f?"".concat(Math.floor(100/Number(a)-100),"% return when SDO > $1"):"SDO is over $1",onExchange:u,disabled:!a||b})}),Object(r.jsx)(x.a,{}),Object(r.jsx)(X,{children:Object(r.jsx)(P,{action:"Redeem",fromToken:w.b.SBO,toToken:w.b.SDO,priceDesc:"".concat(Object(O.b)(t)," SDO Available"),onExchange:j,disabled:!a||t.eq(0)||!b,disabledDescription:b?null:"Enabled when SDO > $".concat(1.01)})})]})]}):Object(r.jsx)(m.a,{mt:"8px",fullWidth:!0})]}):Object(r.jsxs)(l.a,{children:[Object(r.jsx)(U,{}),Object(r.jsx)(v.a,{deadline:I})]})}}}]);
//# sourceMappingURL=17.cc550104.chunk.js.map